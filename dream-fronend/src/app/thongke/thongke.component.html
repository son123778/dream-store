<div class="thongke-container">
  <!-- Phần nút chọn -->
  <div class="buttons">
    <label *ngFor="let type of ['hom-nay', 'thang-nay', 'nam-nay', 'tat-ca']" class="radio-button">
      <input
        type="radio"
        name="thongkeType"
        [value]="type"
        [checked]="selectedType === type"
        (change)="loadThongKe(type)"
      />
      <span>{{ type | titlecase }}</span>
    </label>
  </div>

  <!-- Phần hiển thị dữ liệu tổng quan -->
  <div class="thongke-summary" *ngIf="thongKeData">
    <div class="summary-card">
      <h3>Hóa đơn</h3>
      <p>{{ thongKeData.soHoaDon }}</p>
    </div>
    <div class="summary-card">
      <h3>Doanh thu</h3>
      <p>{{ thongKeData.tongDoanhThu | currency: 'VND' }}</p>
    </div>
    <div class="summary-card">
      <h3>Khách hàng</h3>
      <p>{{ thongKeData.soKhachHang }}</p>
    </div>
  </div>

  <!-- Biểu đồ cột -->
  <div class="chart-container">
    <canvas id="chart"></canvas>
  </div>

  <!-- Phần top sản phẩm bán chạy -->
  <div class="flex-container">
    <!-- Biểu đồ tròn -->
    <div class="pie-chart-container">
      <canvas id="pieChart"></canvas>
    </div>

    <!-- Top sản phẩm bán chạy -->
    <div class="top-san-pham-container">
      <p class="top-san-pham-title">Top Sản Phẩm Bán Chạy</p>

      <!-- Nút để xem top sản phẩm bán chạy -->
      <div class="top-san-pham-buttons">
        <button (click)="loadTopSanPhamHomNay()">Hôm nay</button>
        <button (click)="loadTopSanPhamThangNay()">Tháng này</button>
        <button (click)="loadTopSanPhamNamNay()">Năm nay</button>
        <button (click)="loadTopSanPhamTatCa()">Tất cả</button>
      </div>

      <!-- Hiển thị danh sách top sản phẩm bán chạy -->
      <div *ngIf="topSanPhamData.length > 0">
        <ul class="top-san-pham-list">
          <li *ngFor="let item of topSanPhamData" class="top-san-pham-item">
            <span class="product-name">{{ item.tenSanPham }}</span>
            <span class="product-quantity">{{ item.tongSoLuong }} sản phẩm</span>
          </li>
        </ul>
      </div>

      <!-- Nếu không có dữ liệu -->
      <div *ngIf="topSanPhamData.length === 0" class="no-data-message">
        <p>Không có dữ liệu sản phẩm bán chạy.</p>
      </div>
    </div>
  </div>
</div>
